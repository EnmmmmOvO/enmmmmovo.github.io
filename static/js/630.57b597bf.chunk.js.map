{"version":3,"file":"static/js/630.57b597bf.chunk.js","mappings":"+IAIA,MAAMA,EACJC,WAAAA,CAAaC,EAAQC,EAAQC,EAAIC,GAC/BA,EAAUC,OAAOC,OAAQ,CACvBC,WAAW,EACXC,WAAW,EACXC,WAAW,EACXC,UAAU,EACVC,KAAM,EACNC,OAAO,ucAkBPC,SAAS,0WAeTC,SAAU,CAAC,EACXC,QAAS,CAAC,EACVC,OAAQ,CAAC,EACTC,QAAS,KACTC,SAAYA,OACZC,SAAYA,QACXf,GAEH,MAAMU,EAAWT,OAAOC,OAAQ,CAC9Bc,KAAM,CAAEC,KAAM,QAASC,MAAO,GAC9BC,WAAY,CAAEF,KAAM,MAAOC,MAAO,GAClCE,WAAY,CAAEH,KAAM,OAAQC,MAAO,CAAE,EAAG,IACxCb,UAAW,CAAEY,KAAM,OAAQC,MAAO,CAAE,EAAG,IACvCG,WAAY,CAAEJ,KAAM,OAAQC,MAAO,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,KACjFlB,EAAQU,UAELC,EAAUV,OAAOC,OAAQ,CAC7BoB,SAAU,CAAEC,KAAM,EAAGC,KAAM,IAC3BC,MAAO,CAAEF,KAAM,EAAGC,KAAM,KACvBxB,EAAQW,SAELC,EAASX,OAAOC,OAAQ,CAC5BwB,IAAK,GACLC,KAAM,EACNC,IAAK,IACLC,OAAQ,EACRC,EAAG,IACHC,aAAa,GACZ/B,EAAQY,QAGXoB,KAAKC,MAAQ,EACbD,KAAKjC,GAAKA,EACViC,KAAKlC,OAASA,EACdkC,KAAKpB,OAASA,EACdoB,KAAKnC,OAASA,EACdmC,KAAKzB,KAAOP,EAAQO,KACpByB,KAAKlB,SAAWd,EAAQc,SACxBkB,KAAKjB,SAAWf,EAAQe,SACxBiB,KAAKR,KAAO,CAAC,EAEb3B,EAAOqC,YAAapC,GAEpBkC,KAAKG,cAAenC,EAAQQ,OAAQR,EAAQS,UAE5CuB,KAAKI,cAAezB,GACpBqB,KAAKK,eAAgB3B,GAErBsB,KAAKM,gBACLN,KAAKO,iBAELP,KAAKQ,cAAexC,EAAQa,SAE5Bd,EAAG0C,OAAQ1C,EAAG2C,OACd3C,EAAG0C,OAAQ1C,EAAG4C,WACd5C,EAAG6C,UAAW7C,EAAG8C,UAAW9C,EAAG+C,KAC/B/C,EAAIC,EAAQI,UAAY,SAAW,WAAaL,EAAGgD,YAE9C/C,EAAQM,UACX0C,OAAOC,iBAAkB,UAAUC,GAAKlB,KAAKmB,OAAQD,KAAK,GACvDlD,EAAQK,WACX2C,OAAOC,iBAAkB,aAAaC,GAAKlB,KAAK3B,UAAW6C,KAAK,GAElElB,KAAKmB,SAELnB,KAAKoB,OAASpB,KAAKoB,OAAOC,KAAMrB,MAChCA,KAAKhB,KAAO,CAAEsC,MAAOC,YAAYC,MAAOC,IAAKF,YAAYC,OACzDxB,KAAKoB,QACP,CAEA/C,SAAAA,CAAW6C,GACT,IAAIQ,EAAIR,EAAES,MAAQ3B,KAAK4B,MAAQ,EAAI,EAC/BC,EAAIX,EAAEY,MAAQ9B,KAAK+B,OAAS,EAAI,EAEpC/B,KAAKtB,SAASL,UAAY,CAAEqD,EAAGG,EACjC,CAEAV,MAAAA,GACE,MAAMtD,EAASmC,KAAKnC,OACdC,EAASkC,KAAKlC,OACdC,EAAKiC,KAAKjC,GAEV6D,EAAQ5B,KAAK4B,MAAQ/D,EAAOmE,YAC5BD,EAAS/B,KAAK+B,OAASlE,EAAOoE,aAC9BpC,EAASG,KAAKH,OAAS+B,EAAQG,EAC/BG,EAAMlC,KAAKkC,IAAMC,KAAKC,IAAKpC,KAAKzB,KAAO,EAAI,EAAG8D,kBAEpDvE,EAAO8D,MAAQA,EAAQM,EACvBpE,EAAOiE,OAASA,EAASG,EACzBpE,EAAOwE,MAAMV,MAAQA,EAAQ,KAC7B9D,EAAOwE,MAAMP,OAASA,EAAS,KAE/BhE,EAAGwE,SAAU,EAAG,EAAGX,EAAQM,EAAKH,EAASG,GACzCnE,EAAGyE,WAAY,EAAG,EAAG,EAAG,GAExBxC,KAAKtB,SAASU,WAAa,CAAEwC,EAAOG,GACpC/B,KAAKtB,SAASW,WAAaW,KAAKyC,cAAe5C,GAE/CG,KAAKjB,SAAU6C,EAAOG,EAAQG,EAChC,CAEAO,aAAAA,CAAe5C,GACb,MAAMjB,EAASoB,KAAKpB,OAEpB,GAAKA,EAAOmB,YAAc,CAExBnB,EAAOiB,OAASA,EAEhB,MAAM6C,EAAS9D,EAAOc,KAAQyC,KAAKQ,GAAK,KAClCC,EAAIT,KAAKU,IAAe,GAAVV,KAAKQ,GAAW,GAAMD,GACpCI,EAAW,GAAQlE,EAAOe,KAAOf,EAAOgB,KAExCmD,EAAS,CACbH,EAAIhE,EAAOiB,OAAQ,EAAG,EAAG,EACzB,EAAG+C,EAAG,EAAG,EACT,EAAG,GAAIhE,EAAOe,KAAOf,EAAOgB,KAAOkD,GAAW,EAC9C,EAAG,EAAGlE,EAAOe,KAAOf,EAAOgB,IAAMkD,EAAW,EAAG,GAMjD,OAHAC,EAAQ,KAAQnE,EAAOkB,EACvBiD,EAAQ,KAAQnE,EAAOkB,EAEhBiD,CAET,CACE,MAAO,CACJ,EAAI/C,KAAK4B,MAAO,EAAG,EAAG,EACtB,GAAI,EAAI5B,KAAK+B,OAAQ,EAAG,EACxB,EAAG,EAAG,EAAG,GACT,EAAG,EAAG,EAAG,EAGhB,CAEAiB,YAAAA,CAAc/D,EAAMgE,GAClB,MAAMlF,EAAKiC,KAAKjC,GACVmF,EAASnF,EAAGiF,aAAc/D,GAKhC,GAHAlB,EAAGoF,aAAcD,EAAQD,GACzBlF,EAAGqF,cAAeF,GAEbnF,EAAGsF,mBAAoBH,EAAQnF,EAAGuF,gBAAmB,OAAOJ,EAC5DnF,EAAGwF,aAAcL,EACxB,CAEA/C,aAAAA,CAAe3B,EAAQC,GACrB,MAAMV,EAAKiC,KAAKjC,GAEVyF,EAAexD,KAAKgD,aAAcjF,EAAG0F,cAAejF,GACpDkF,EAAiB1D,KAAKgD,aAAcjF,EAAG4F,gBAAiBlF,GAExDmF,EAAU7F,EAAGoC,gBAEnBpC,EAAG8F,aAAcD,EAASJ,GAC1BzF,EAAG8F,aAAcD,EAASF,GAC1B3F,EAAG+F,YAAaF,GAEX7F,EAAGgG,oBAAqBH,EAAS7F,EAAGiG,cACvCjG,EAAGkG,WAAWL,GACd5D,KAAK4D,QAAUA,GACV7F,EAAGmG,cAAeN,EAC3B,CAEAvD,cAAAA,CAAgBb,GACd,MAAMzB,EAAKiC,KAAKjC,GACVW,EAAWsB,KAAKR,KAAKd,SAAWc,EAChC2E,EAASnE,KAAKtB,SAAW,CAAC,EAEhCT,OAAOmG,KAAM1F,GAAW2F,SAASC,IACf5F,EAAU4F,GAElBC,SAAWxG,EAAGyG,mBAAoBxE,KAAK4D,QAAS,KAAOU,GAE/DrG,OAAOwG,eAAgBN,EAAQG,EAAM,CACnCI,IAAKxF,IACHR,EAAU4F,GAAOpF,MAAQA,EACzBc,KAAK2E,WAAYL,EAAMpF,EAAO,EAEhC0F,IAAKA,IAAMlG,EAAU4F,GAAOpF,OAC3B,GAEP,CAEAyF,UAAAA,CAAYL,EAAMpF,GAChB,MAAMnB,EAAKiC,KAAKjC,GACV8G,EAAU7E,KAAKR,KAAKd,SAAU4F,GAEpCO,EAAQ3F,MAAQA,EAEK,QAAjB2F,EAAQ5F,KAAgBlB,EAAG+G,UAAUD,EAAQN,SAAUrF,GACjC,UAAjB2F,EAAQ5F,KAAkBlB,EAAGgH,UAAUF,EAAQN,SAAUrF,GACxC,SAAjB2F,EAAQ5F,KAAiBlB,EAAGiH,UAAUH,EAAQN,YAAarF,GAC1C,SAAjB2F,EAAQ5F,KAAiBlB,EAAGkH,UAAUJ,EAAQN,YAAarF,GAC1C,SAAjB2F,EAAQ5F,KAAiBlB,EAAGmH,UAAUL,EAAQN,YAAarF,GAC1C,SAAjB2F,EAAQ5F,KAAiBlB,EAAGoH,iBAAiBN,EAAQN,UAAU,EAAOrF,GACrD,SAAjB2F,EAAQ5F,KAAiBlB,EAAGqH,iBAAiBP,EAAQN,UAAU,EAAOrF,GACrD,SAAjB2F,EAAQ5F,MAAiBlB,EAAGsH,iBAAiBR,EAAQN,UAAU,EAAOrF,EACjF,CAEAqB,cAAAA,GACE,MAAM7B,EAAWsB,KAAKR,KAAKd,SAE3BT,OAAOmG,KAAM1F,GAAW2F,SAASC,IAC/B,MAAMO,EAAUnG,EAAU4F,GAC1BtE,KAAKtB,SAAU4F,GAASO,EAAQ3F,KAAK,GAEzC,CAEAkB,aAAAA,CAAeZ,GACb,MAAMb,EAAUqB,KAAKR,KAAKb,QAAUa,EAC9B2E,EAASnE,KAAKrB,QAAU,CAAC,EAE/BV,OAAOmG,KAAMzF,GAAU0F,SAASC,IAE9B,MAAMgB,EAAS3G,EAAS2F,GACxBgB,EAAOA,OAAStF,KAAKuF,aAAc,KAAOjB,EAAMgB,EAAO/F,MAEvDtB,OAAOwG,eAAgBN,EAAQG,EAAM,CACnCI,IAAKlF,IACHb,EAAS2F,GAAO9E,KAAOA,EACvBQ,KAAKwF,UAAWlB,EAAM9E,GAER,aAAT8E,IAAsBtE,KAAKC,MAAQtB,EAAQW,SAASE,KAAKiG,OAAS,EAAC,EAE1Eb,IAAKA,IAAMjG,EAAS2F,GAAO9E,MAC1B,GAEP,CAEA+F,YAAAA,CAAcjB,EAAM/E,GAClB,MAAMxB,EAAKiC,KAAKjC,GACV6F,EAAU5D,KAAK4D,QAEf8B,EAAQ3H,EAAG4H,kBAAmB/B,EAASU,GACvCgB,EAASvH,EAAGwH,eAMlB,OAJAxH,EAAG6H,WAAY7H,EAAG8H,aAAcP,GAChCvH,EAAG+H,wBAAyBJ,GAC5B3H,EAAGgI,oBAAqBL,EAAOnG,EAAMxB,EAAGiI,OAAO,EAAO,EAAG,GAElDV,CACT,CAEAE,SAAAA,CAAWlB,EAAM9E,GACf,MAAMzB,EAAKiC,KAAKjC,GACVY,EAAUqB,KAAKR,KAAKb,SAEb,MAAR2F,GAAkBvG,EAAG6H,WAAY7H,EAAG8H,aAAc,SAEvD9H,EAAG6H,WAAY7H,EAAG8H,aAAclH,EAAS2F,GAAOgB,QAChDvH,EAAGkI,WAAYlI,EAAG8H,aAAc,IAAIK,aAAc1G,GAAQzB,EAAGoI,aAC/D,CAEA7F,aAAAA,GACE,MAAM3B,EAAUqB,KAAKrB,QAErBV,OAAOmG,KAAMzF,GAAU0F,SAASC,GAAQ3F,EAAQ2F,GAAQ3F,EAAQ2F,GAAM9E,OAEtEQ,KAAKwF,UAAW,KAClB,CAEAhF,aAAAA,CAAe4F,GACb,MAAMrI,EAAKiC,KAAKjC,GACVc,EAAUd,EAAGyC,gBAEnBzC,EAAGsI,YAAatI,EAAGuI,WAAYzH,GAC/Bd,EAAGwI,WAAYxI,EAAGuI,WAAY,EAAGvI,EAAGyI,KAAM,EAAG,EAAG,EAAGzI,EAAGyI,KAAMzI,EAAG0I,cAAe,IAAIC,WAAY,CAAE,EAAG,EAAG,EAAG,KAEzG1G,KAAKnB,QAAUA,EAEVuH,IACHpG,KAAKtB,SAASS,WAAa,EAC3Ba,KAAK2G,YAAaP,GAEtB,CAEAO,WAAAA,CAAaP,GACX,MAAMrI,EAAKiC,KAAKjC,GACVc,EAAUmB,KAAKnB,QAEf+H,EAAe,IAAIC,MAEzBD,EAAaE,OAAS,KAEpB/I,EAAGsI,YAAatI,EAAGuI,WAAYzH,GAE/Bd,EAAGwI,WAAYxI,EAAGuI,WAAY,EAAGvI,EAAGyI,KAAMzI,EAAGyI,KAAMzI,EAAG0I,cAAeG,GAErE7I,EAAGgJ,cAAehJ,EAAGuI,WAAYvI,EAAGiJ,mBAAoBjJ,EAAGkJ,QAC3DlJ,EAAGgJ,cAAehJ,EAAGuI,WAAYvI,EAAGmJ,mBAAoBnJ,EAAGkJ,QAE3DlJ,EAAGgJ,cAAchJ,EAAGuI,WAAYvI,EAAGoJ,eAAgBpJ,EAAGqJ,eACtDrJ,EAAGgJ,cAAchJ,EAAGuI,WAAYvI,EAAGsJ,eAAgBtJ,EAAGqJ,cAAc,EAGtER,EAAaR,IAAMA,CACrB,CAEAhF,MAAAA,GACE,MAAMrD,EAAKiC,KAAKjC,GAEVyD,EAAMD,YAAYC,MAClB8F,GAAY9F,EAAMxB,KAAKhB,KAAKsC,OAAU,IACtCiG,EAAQ/F,EAAMxB,KAAKhB,KAAKyC,IAC9BzB,KAAKhB,KAAKyC,IAAMD,EAEhBxB,KAAKtB,SAASM,KAAOsI,EAEhBtH,KAAKC,MAAQ,IAChBlC,EAAGyJ,MAAMzJ,EAAG0J,iBAAmB1J,EAAG2J,kBAClC3J,EAAG4J,WAAY5J,EAAG6J,OAAQ,EAAG5H,KAAKC,QAGpCD,KAAKlB,SAAUyI,GAEfM,sBAAuB7H,KAAKoB,OAC9B,EAIF,MAqFA,EArFc0G,KACZ,MAAMC,EAAWC,EAAAA,OAAa,MACxBC,EAAYD,EAAAA,OAAa,MA8E/B,OA5EAE,EAAAA,EAAAA,YAAU,KACR,MAAMpK,EAASmK,EAAUE,QACnBpK,EAAKD,EAAOsK,WAAW,SAC7B,IAAIzK,EAAcoK,EAASI,QAASrK,EAAQC,EAAI,CAC9Cc,QAAS,yqBACTH,SAAU,CACRa,KAAM,CAACN,KAAM,QAASC,MArXZ,KAsXVmJ,MAAO,CAACpJ,KAAM,OAAQC,MAAO,CAAC,EAAG,EAAG,IACpCoJ,MAAO,CAACrJ,KAAM,QAASC,MAAO,IAEhCV,OAAO,qzBA6BPC,SAAS,qOAUTM,QAAAA,CAASwJ,EAAGC,EAAGtG,GAEb,MAAM5C,EAAW,GAAIG,EAAQ,GAEvBmC,EAAe2G,EAAIC,EAAX,IACRC,EAAQ,IAId,IAAK,IAAI/G,EAAI,EAAGA,EAAIE,EAAOF,GAFV,EAGf,IAAK,IAAI5B,EAAI,EAAGA,EAAI2I,EAAO3I,GAHZ,EAIbR,EAASoJ,MAAM9G,EAAQ,EAAIF,GAAI,IAAI,IAAa5B,GAChDL,EAAMiJ,KAAK,EAAG,EAAKhH,EAAIE,EAAQ,GAAMF,EAAIE,EAAQ,GAAK9B,EAAI2I,GAI9DzI,KAAKtB,SAAS2J,MAAQ,CAACzG,EAVR,EAUuB6G,GAEtCzI,KAAKrB,QAAQW,SAAWA,EACxBU,KAAKrB,QAAQc,MAAQA,EAErBO,KAAKtB,SAASa,KAAQiJ,EAAI,IArbhB,IAqbmCtG,CAC/C,GACA,GACD,KAGIyG,EAAAA,EAAAA,KAAA,OAAKrG,MAAO,CAAEhD,SAAU,QAASsJ,IAAK,EAAGC,OAAQ,EAAGC,KAAM,EAAGC,MAAO,EAAGC,WAAY,SAAWC,IAAKlB,EAASmB,UACjHP,EAAAA,EAAAA,KAAA,UAAQM,IAAKhB,KACT,C","sources":["component/Waves/index.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\n\nconst pointSize = 2.5\n\nclass ShaderProgram {\n  constructor( holder, canvas, gl, options ) {\n    options = Object.assign( {\n      antialias: false,\n      depthTest: false,\n      mousemove: false,\n      autosize: true,\n      msaa: 0,\n      vertex: `\n        precision highp float;\n\n        attribute vec4 a_position;\n        attribute vec4 a_color;\n\n        uniform float u_time;\n        uniform vec2 u_resolution;\n        uniform vec2 u_mousemove;\n        uniform mat4 u_projection;\n\n        varying vec4 v_color;\n\n        void main() {\n          gl_Position = u_projection * a_position;\n          gl_PointSize = (10.0 / gl_Position.w) * 100.0;\n          v_color = a_color;\n        }`,\n      fragment: `\n        precision highp float;\n\n        uniform sampler2D u_texture;\n        uniform int u_hasTexture;\n\n        varying vec4 v_color;\n\n        void main() {\n          if ( u_hasTexture == 1 ) {\n            gl_FragColor = v_color * texture2D(u_texture, gl_PointCoord);\n          } else {\n            gl_FragColor = v_color;\n          }\n        }`,\n      uniforms: {},\n      buffers: {},\n      camera: {},\n      texture: null,\n      onUpdate: ( () => {} ),\n      onResize: ( () => {} ),\n    }, options )\n\n    const uniforms = Object.assign( {\n      time: { type: 'float', value: 0 },\n      hasTexture: { type: 'int', value: 0 },\n      resolution: { type: 'vec2', value: [ 0, 0 ] },\n      mousemove: { type: 'vec2', value: [ 0, 0 ] },\n      projection: { type: 'mat4', value: [ 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1 ] },\n    }, options.uniforms )\n\n    const buffers = Object.assign( {\n      position: { size: 3, data: [] },\n      color: { size: 4, data: [] },\n    }, options.buffers )\n\n    const camera = Object.assign( {\n      fov: 60,\n      near: 1,\n      far: 10000,\n      aspect: 1,\n      z: 100,\n      perspective: true,\n    }, options.camera )\n\n\n    this.count = 0\n    this.gl = gl\n    this.canvas = canvas\n    this.camera = camera\n    this.holder = holder\n    this.msaa = options.msaa\n    this.onUpdate = options.onUpdate\n    this.onResize = options.onResize\n    this.data = {}\n\n    holder.appendChild( canvas )\n\n    this.createProgram( options.vertex, options.fragment )\n\n    this.createBuffers( buffers )\n    this.createUniforms( uniforms )\n\n    this.updateBuffers()\n    this.updateUniforms()\n\n    this.createTexture( options.texture )\n\n    gl.enable( gl.BLEND )\n    gl.enable( gl.CULL_FACE )\n    gl.blendFunc( gl.SRC_ALPHA, gl.ONE )\n    gl[ options.depthTest ? 'enable' : 'disable' ]( gl.DEPTH_TEST )\n\n    if ( options.autosize )\n      window.addEventListener( 'resize', e => this.resize( e ), false )\n    if ( options.mousemove )\n      window.addEventListener( 'mousemove', e => this.mousemove( e ), false )\n\n    this.resize()\n\n    this.update = this.update.bind( this )\n    this.time = { start: performance.now(), old: performance.now() }\n    this.update()\n  }\n\n  mousemove( e ) {\n    let x = e.pageX / this.width * 2 - 1\n    let y = e.pageY / this.height * 2 - 1\n\n    this.uniforms.mousemove = [ x, y ]\n  }\n\n  resize() {\n    const holder = this.holder\n    const canvas = this.canvas\n    const gl = this.gl\n\n    const width = this.width = holder.offsetWidth\n    const height = this.height = holder.offsetHeight\n    const aspect = this.aspect = width / height\n    const dpi = this.dpi = Math.max( this.msaa ? 2 : 1, devicePixelRatio )\n\n    canvas.width = width * dpi\n    canvas.height = height * dpi\n    canvas.style.width = width + 'px'\n    canvas.style.height = height + 'px'\n\n    gl.viewport( 0, 0, width * dpi, height * dpi )\n    gl.clearColor( 0, 0, 0, 0 )\n\n    this.uniforms.resolution = [ width, height ]\n    this.uniforms.projection = this.setProjection( aspect )\n\n    this.onResize( width, height, dpi )\n  }\n\n  setProjection( aspect ) {\n    const camera = this.camera\n\n    if ( camera.perspective ) {\n\n      camera.aspect = aspect\n\n      const fovRad = camera.fov * ( Math.PI / 180 )\n      const f = Math.tan( Math.PI * 0.5 - 0.5 * fovRad )\n      const rangeInv = 1.0 / ( camera.near - camera.far )\n\n      const matrix = [\n        f / camera.aspect, 0, 0, 0,\n        0, f, 0, 0,\n        0, 0, (camera.near + camera.far) * rangeInv, -1,\n        0, 0, camera.near * camera.far * rangeInv * 2, 0\n      ]\n\n      matrix[ 14 ] += camera.z\n      matrix[ 15 ] += camera.z\n\n      return matrix\n\n    } else {\n      return [\n         2 / this.width, 0, 0, 0,\n         0, -2 / this.height, 0, 0,\n         0, 0, 1, 0,\n        -1, 1, 0, 1,\n      ]\n    }\n  }\n\n  createShader( type, source ) {\n    const gl = this.gl\n    const shader = gl.createShader( type )\n\n    gl.shaderSource( shader, source )\n    gl.compileShader( shader )\n\n    if ( gl.getShaderParameter (shader, gl.COMPILE_STATUS ) ) return shader\n    else gl.deleteShader( shader )\n  }\n\n  createProgram( vertex, fragment ) {\n    const gl = this.gl\n\n    const vertexShader = this.createShader( gl.VERTEX_SHADER, vertex )\n    const fragmentShader = this.createShader( gl.FRAGMENT_SHADER, fragment )\n\n    const program = gl.createProgram()\n\n    gl.attachShader( program, vertexShader )\n    gl.attachShader( program, fragmentShader )\n    gl.linkProgram( program )\n\n    if ( gl.getProgramParameter( program, gl.LINK_STATUS ) ) {\n      gl.useProgram(program)\n      this.program = program\n    } else gl.deleteProgram( program )\n  }\n\n  createUniforms( data ) {\n    const gl = this.gl\n    const uniforms = this.data.uniforms = data\n    const values = this.uniforms = {}\n\n    Object.keys( uniforms ).forEach( name => {\n      const uniform = uniforms[ name ]\n\n      uniform.location = gl.getUniformLocation( this.program, 'u_' + name )\n\n      Object.defineProperty( values, name, {\n        set: value => {\n          uniforms[ name ].value = value\n          this.setUniform( name, value )\n        },\n        get: () => uniforms[ name ].value\n      } )\n    } )\n  }\n\n  setUniform( name, value ) {\n    const gl = this.gl\n    const uniform = this.data.uniforms[ name ]\n\n    uniform.value = value\n\n    if (uniform.type === 'int') gl.uniform1i(uniform.location, value)\n    else if (uniform.type === 'float') gl.uniform1f(uniform.location, value)\n    else if (uniform.type === 'vec2') gl.uniform2f(uniform.location, ...value)\n    else if (uniform.type === 'vec3') gl.uniform3f(uniform.location, ...value)\n    else if (uniform.type === 'vec4') gl.uniform4f(uniform.location, ...value)\n    else if (uniform.type === 'mat2') gl.uniformMatrix2fv(uniform.location, false, value)\n    else if (uniform.type === 'mat3') gl.uniformMatrix3fv(uniform.location, false, value)\n    else if (uniform.type === 'mat4') gl.uniformMatrix4fv(uniform.location, false, value)\n  }\n\n  updateUniforms() {\n    const uniforms = this.data.uniforms\n\n    Object.keys( uniforms ).forEach( name => {\n      const uniform = uniforms[ name ]\n      this.uniforms[ name ] = uniform.value\n    } )\n  }\n\n  createBuffers( data ) {\n    const buffers = this.data.buffers = data\n    const values = this.buffers = {}\n\n    Object.keys( buffers ).forEach( name => {\n\n      const buffer = buffers[ name ]\n      buffer.buffer = this.createBuffer( 'a_' + name, buffer.size )\n\n      Object.defineProperty( values, name, {\n        set: data => {\n          buffers[ name ].data = data\n          this.setBuffer( name, data )\n\n          if ( name === 'position' ) this.count = buffers.position.data.length / 3\n        },\n        get: () => buffers[ name ].data\n      } )\n    } )\n  }\n\n  createBuffer( name, size ) {\n    const gl = this.gl\n    const program = this.program\n\n    const index = gl.getAttribLocation( program, name )\n    const buffer = gl.createBuffer()\n\n    gl.bindBuffer( gl.ARRAY_BUFFER, buffer )\n    gl.enableVertexAttribArray( index )\n    gl.vertexAttribPointer( index, size, gl.FLOAT, false, 0, 0 )\n\n    return buffer\n  }\n\n  setBuffer( name, data ) {\n    const gl = this.gl\n    const buffers = this.data.buffers\n\n    if ( name == null && ! gl.bindBuffer( gl.ARRAY_BUFFER, null ) ) return\n\n    gl.bindBuffer( gl.ARRAY_BUFFER, buffers[ name ].buffer )\n    gl.bufferData( gl.ARRAY_BUFFER, new Float32Array( data ), gl.STATIC_DRAW )\n  }\n\n  updateBuffers() {\n    const buffers = this.buffers\n\n    Object.keys( buffers ).forEach( name => buffers[name] = buffers[name].data)\n\n    this.setBuffer( null )\n  }\n\n  createTexture( src ) {\n    const gl = this.gl\n    const texture = gl.createTexture()\n\n    gl.bindTexture( gl.TEXTURE_2D, texture )\n    gl.texImage2D( gl.TEXTURE_2D, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, new Uint8Array( [ 0, 0, 0, 0 ] ) )\n\n    this.texture = texture\n\n    if ( src ) {\n      this.uniforms.hasTexture = 1\n      this.loadTexture( src )\n    }\n  }\n\n  loadTexture( src ) {\n    const gl = this.gl\n    const texture = this.texture\n\n    const textureImage = new Image()\n\n    textureImage.onload = () => {\n\n      gl.bindTexture( gl.TEXTURE_2D, texture )\n\n      gl.texImage2D( gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, textureImage )\n\n      gl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR )\n      gl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR )\n\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE)\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE)\n    }\n\n    textureImage.src = src\n  }\n\n  update() {\n    const gl = this.gl\n\n    const now = performance.now()\n    const elapsed = ( now - this.time.start ) / 5000\n    const delta = now - this.time.old\n    this.time.old = now\n\n    this.uniforms.time = elapsed\n\n    if ( this.count > 0 ) {\n      gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n      gl.drawArrays( gl.POINTS, 0, this.count )\n    }\n\n    this.onUpdate( delta )\n\n    requestAnimationFrame( this.update )\n  }\n\n}\n\nconst Waves = () => {\n  const wavesRef = React.useRef(null);\n  const canvasRef = React.useRef(null);\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const gl = canvas.getContext('webgl');\n    new ShaderProgram(wavesRef.current, canvas, gl, {\n      texture: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAb1BMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8v0wLRAAAAJHRSTlMAC/goGvDhmwcExrVjWzrm29TRqqSKenRXVklANSIUE8mRkGpv+HOfAAABCElEQVQ4y4VT13LDMAwLrUHteO+R9f/fWMfO6dLaPeKVEECRxOULWsEGpS9nULDwia2Y+ALqUNbAWeg775zv+sA4/FFRMxt8U2FZFCVWjR/YrH4/H9sarclSKdPMWKzb8VsEeHB3m0shkhVCyNzeXeAQ9Xl4opEieX2QCGnwGbj6GMyjw9t1K0fK9YZunPXeAGsfJtYjwzxaBnozGGorYz0ypK2HzQSYx1y8DgSRo2ewOiyh2QWOEk1Y9OrQV0a8TiBM1a8eMHWYnRMy7CZ4t1CmyRkhSUvP3gRXyHOCLBxNoC3IJv//ZrJ/kxxUHPUB+6jJZZHrpg6GOjnqaOmzp4NDR48OLxn/H27SRQ08S0ZJAAAAAElFTkSuQmCC',\n      uniforms: {\n        size: {type: 'float', value: pointSize},\n        field: {type: 'vec3', value: [0, 0, 0]},\n        speed: {type: 'float', value: 5},\n      },\n      vertex: `\n        #define M_PI 3.1415926535897932384626433832795\n    \n        precision highp float;\n    \n        attribute vec4 a_position;\n        attribute vec4 a_color;\n    \n        uniform float u_time;\n        uniform float u_size;\n        uniform float u_speed;\n        uniform vec3 u_field;\n        uniform mat4 u_projection;\n    \n        varying vec4 v_color;\n    \n        void main() {\n          vec3 pos = a_position.xyz;\n    \n          pos.y += (\n            cos(pos.x / u_field.x * M_PI * 8.0 + u_time * u_speed) +\n            sin(pos.z / u_field.z * M_PI * 8.0 + u_time * u_speed)\n          ) * u_field.y;\n    \n          gl_Position = u_projection * vec4( pos.xyz, a_position.w );\n          gl_PointSize = ( u_size / gl_Position.w ) * 100.0;\n    \n          v_color = a_color;\n        }`,\n      fragment: `\n        precision highp float;\n    \n        uniform sampler2D u_texture;\n    \n        varying vec4 v_color;\n    \n        void main() {\n          gl_FragColor = v_color * texture2D(u_texture, gl_PointCoord);\n        }`,\n      onResize(w, h, dpi) {\n\n        const position = [], color = []\n\n        const width = 400 * (w / h)\n        const depth = 400\n        const height = 3\n        const distance = 5\n\n        for (let x = 0; x < width; x += distance) {\n          for (let z = 0; z < depth; z += distance) {\n            position.push(-width / 2 + x, -30, -depth / 2 + z)\n            color.push(0, 1 - (x / width), 0.5 + x / width * 0.5, z / depth);\n          }\n        }\n\n        this.uniforms.field = [width, height, depth]\n\n        this.buffers.position = position\n        this.buffers.color = color\n\n        this.uniforms.size = (h / 400) * pointSize * dpi\n      }\n    });\n  }, [])\n\n\n  return <div style={{ position: 'fixed', top: 0, bottom: 0, left: 0, right: 0, background: 'black' }} ref={wavesRef}>\n    <canvas ref={canvasRef} />\n  </div>;\n}\n\nexport default Waves;\n"],"names":["ShaderProgram","constructor","holder","canvas","gl","options","Object","assign","antialias","depthTest","mousemove","autosize","msaa","vertex","fragment","uniforms","buffers","camera","texture","onUpdate","onResize","time","type","value","hasTexture","resolution","projection","position","size","data","color","fov","near","far","aspect","z","perspective","this","count","appendChild","createProgram","createBuffers","createUniforms","updateBuffers","updateUniforms","createTexture","enable","BLEND","CULL_FACE","blendFunc","SRC_ALPHA","ONE","DEPTH_TEST","window","addEventListener","e","resize","update","bind","start","performance","now","old","x","pageX","width","y","pageY","height","offsetWidth","offsetHeight","dpi","Math","max","devicePixelRatio","style","viewport","clearColor","setProjection","fovRad","PI","f","tan","rangeInv","matrix","createShader","source","shader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","deleteShader","vertexShader","VERTEX_SHADER","fragmentShader","FRAGMENT_SHADER","program","attachShader","linkProgram","getProgramParameter","LINK_STATUS","useProgram","deleteProgram","values","keys","forEach","name","location","getUniformLocation","defineProperty","set","setUniform","get","uniform","uniform1i","uniform1f","uniform2f","uniform3f","uniform4f","uniformMatrix2fv","uniformMatrix3fv","uniformMatrix4fv","buffer","createBuffer","setBuffer","length","index","getAttribLocation","bindBuffer","ARRAY_BUFFER","enableVertexAttribArray","vertexAttribPointer","FLOAT","bufferData","Float32Array","STATIC_DRAW","src","bindTexture","TEXTURE_2D","texImage2D","RGBA","UNSIGNED_BYTE","Uint8Array","loadTexture","textureImage","Image","onload","texParameteri","TEXTURE_MIN_FILTER","LINEAR","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","elapsed","delta","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","drawArrays","POINTS","requestAnimationFrame","Waves","wavesRef","React","canvasRef","useEffect","current","getContext","field","speed","w","h","depth","push","_jsx","top","bottom","left","right","background","ref","children"],"sourceRoot":""}